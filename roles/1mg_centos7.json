{
  "json_class" : "Chef::Role",
  "name": "1mg",
  "run_list": [
    "recipe[base::setup]",
    "recipe[yum::epel]",
    "recipe[yum::remi]",
    "recipe[sshd::setup]",
    "recipe[nsd::setup]",
    "recipe[mariadb::setup]",
    "recipe[nginx::install]",
    "recipe[phpfpm::default]",
    "recipe[nginx::setup]",
    "recipe[vsftpd::setup]",
    "recipe[postfix::setup]",
    "recipe[docker::setup]",
    "recipe[iptables::setup]",
    "recipe[matsusita::default]"
  ],
  "default_attributes" : {
    "base": {
      "hostname": "server.1mg.org",
      "root_address": "keiji.ue@gmail.com",
      "on_services": [
      "crond",
      "modules_dep",
      "network",
      "portreserve",
      "rsyslog"
      ],
      "off_services": [
        "saslauthd",
        "xinetd",
        "smadmd",
        "serversman",
        "httpd",
        "ajaxterm",
        "netfs",
        "rpcbind",
        "ip6tables",
        "lvm2-monitor",
        "messagebus",
        "udev-post",
        "netconsole",
        "firewalld"
      ]
    },
    "sshd" : {
      "conf_lists" : {
        "PermitRootLogin" : "yes",
        "ChallengeResponseAuthentication" : "no",
        "IgnoreUserKnownHosts" : "yes",
        "ClientAliveInterval" : "48"
      }
    },
    "jenkins" : {
      "listen" : "127.0.0.1",
      "ajp_port" : "-1",
      "args" : "--prefix=/jenkins",
      "plugins" : ["git"]
    },
    "nsd" : {
      "zones" : [{
        "zone_name" : "1mg.org",
        "xfr" : ["127.0.0.1", "160.16.54.90", "153.120.38.37"]
      }, {
        "zone_name" : "1mg.biz",
        "xfr" : ["127.0.0.1", "160.16.54.90", "153.120.38.37"]
      }, {
        "zone_name" : "matsusita.com",
        "xfr" : ["127.0.0.1", "160.16.54.90", "153.120.38.37"]
        }
      ]
    },
    "nginx" : {
      "conf_lists" : ["server.1mg.org", "www.1mg.org", "www.1mg.biz", "matsusita.com", "log_format"]
    },
    "php": {
      "packages": [
        {"pkg_name": "php-mbstring"},
        {"pkg_name": "php-mcrypt", "pkg_option": "--enablerepo=epel"},
        {"pkg_name": "php-mysql"},
        {"pkg_name": "php-pecl-apc"},
        {"pkg_name": "php-redis", "pkg_option": "--enablerepo=epel"},
        {"pkg_name": "php-gd"}
        ],
      "spawnfcgi": {
        "num": "5"
      }
    },
    "mysqld" : {
      "conf_lists" : {
        "datadir" : "/usr/local/1mg/var/lib/mysql/"
      }
    }
  },
  "over_attributes" : {
  }
}
